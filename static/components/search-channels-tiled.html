{{ define "components/search-channels-tiled" }}
{{ with . }}
{{ range . }}
<div class="relative flex-grow p-4 overflow-hidden group md:basis-1/3 rounded-xl bg-base-300" id="channel-tile-{{.ID}}">
  {{ if .Subscribed }}
  <div
    class="absolute inset-0 z-10 flex items-center justify-center w-full text-lg font-bold uppercase bg-black bg-opacity-50 cursor-default">
    Subscribed
  </div>
  {{ else }}
  <button type="button" _="on click remove #channel-tile-{{.ID}} on anEvent log event"
    class="absolute inset-0 z-10 flex items-center justify-center invisible w-full text-lg font-bold uppercase bg-black bg-opacity-50 group-hover:visible"
    hx-target="#subscriptions-list" hx-swap="afterbegin" hx-post="/api/channels/{{.ID}}/subscribe">
    Subscribe
  </button>
  {{ end }}
  {{ template "components/channel-tile" . }}
</div>
{{ end }}
{{ end }}
{{ end }}