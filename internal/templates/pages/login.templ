package pages

import (
	"github.com/cufee/feedlr-yt/internal/auth"
	"github.com/cufee/feedlr-yt/internal/templates/components/shared"
)

templ Login(nonce string) {
	<div class="flex flex-col items-center justify-center h-full gap-4" id="landing">
		<div class="flex justify-center">
			@shared.Logo("128")
		</div>
		@GoogleLoginButton(nonce)
	</div>
}

templ GoogleLoginButton(nonce string) {
	<script src="https://accounts.google.com/gsi/client" async></script>
	<div
		id="g_id_onload"
		data-client_id={ auth.GoogleAuthClientID }
		data-context="signin"
		data-ux_mode="redirect"
		data-login_uri={ auth.GoogleAuthRedirectURL }
		data-nonce={ nonce }
		data-auto_select="true"
		data-itp_support="true"
		auto_prompt="false"
		data-use_fedcm_for_prompt="true"
	></div>
	<div
		class="g_id_signin"
		data-type="standard"
		data-shape="pill"
		data-theme="filled_black"
		data-text="signin_with"
		data-nonce={ nonce }
		data-size="large"
		data-logo_alignment="center"
	></div>
}
